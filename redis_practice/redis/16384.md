## 25.字符串类型值存储最大容量是多少？默认有多少个库？Redis集群之间是如何复制的？Redis集群最大节点个数是多少？
> 字符串类型值存储最大容量是512M                 
>默认有16个库        
>Redis集群之间是异步复制的                
>Redis集群最大节点个数是16384个    
>               
>redis集群并没有使用一致性hash，而是引入了哈希槽的概念。redis集群有16384个哈希槽，每个key通过CRC16校验后对16384取模来决定放置哪个槽，集群的每个节点负责一部分hash槽。                                   
 为什么哈希槽的数量是16384（2^14）个?                
 在redis节点发送心跳包时需要把所有的槽放到这个心跳包里，以便让节点知道当前集群信息，16384=16k，在发送心跳包时使用char进行bitmap压缩后是2k（2 * 8 (8 bit) * 1024(1k) = 16K），也就是说使用2k的空间创建了16k的槽数。                    
 虽然使用CRC16算法最多可以分配65535（2^16-1）个槽位，65535=65k，压缩后就是8k（8 * 8 (8 bit) * 1024(1k) =65K），
>也就是说需要需要8k的心跳包，作者认为这样做不太值得；并且一般情况下一个redis集群不会有超过1000个master节点，所以16k的槽位是个比较合适的选择。                                   
