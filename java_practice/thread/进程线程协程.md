### 2.进程、线程和协程的区别？java、go和python中对线程的实现及与操作系统中内核的对应关系？
>进程是一个具有一定独立功能的程序在一个数据集上的一次动态执行的过程，是操作系统进行资源分配和调度的一个独立单位，是应用程序运行的载体。                
 线程是程序执行中一个单一的顺序控制流程，是程序执行流的最小单元，是处理器调度和分派的基本单位。                
 线程是进程的一个实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位。              
 线程自己基本上不拥有系统资源，只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈)，但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。             
>                                                
>进程与线程的区别:                            
 (1).进程是操作系统分配资源的最小单位；线程是程序执行的最小单位                                        
 (2).一个进程由一个或多个线程组成，线程是一个进程中代码的不同执行路线                                      
 (3).进程有自己独立的地址空间，每启动一个进程，系统都会为其分配地址空间，建立数据表来维护代码段、堆栈段和数据段，线程没有独立的地址空间，它使用相同的地址空间共享数据                              
 (4).线程之间通信更方便，同一个进程下，线程共享全局变量，静态变量等数据，进程之间的通信需要以通信的方式（IPC）进行；（但多线程程序处理好同步与互斥是个难点）                                
 (5).多进程程序更安全，生命力更强，一个进程死掉不会对另一个进程造成影响（源于有独立的地址空间），多线程程序更不易维护，一个线程死掉，整个进程就死掉了(因为共享地址空间)                                                             
 (6).在调度和切换方面，线程上下文切换比进程上下文切换要快得多                   
 (7).进程对资源保护要求高，开销大，效率相对较低，线程资源保护要求不高，但开销小，效率高，可频繁切换            
>                                   
>协程是一种基于线程之上，但又比线程更加轻量级的存在，由开发者自己写程序来管理的用户空间的线程，具有对内核来说不可见的特性。              
 协程不是被操作系统内核所管理，而完全是由程序所控制（也就是在用户态执行）。                  
 协程的目的就是当出现长时间的I/O操作时，通过让出目前的协程调度，执行下一个任务的方式，来消除ContextSwitch上的开销。                  
 协程的特点：                     
 线程的切换由操作系统负责调度，协程由用户自己进行调度，因此减少了上下文切换，提高了效率。                   
 线程的默认Stack大小是1M，而协程更轻量，接近1K。因此可以在相同的内存中开启更多的协程。                        
 由于在同一个线程上，因此可以避免竞争关系而使用锁。                                  
 适用于被阻塞的，且需要大量并发的场景。但不适用于大量计算的多线程，遇到此种情况，更好实用线程去解决。                     
>                           
>协程与线程的区别:                      
 (1).一个线程可以多个协程，一个进程也可以单独拥有多个协程。                        
 (2).线程进程都是同步机制，而协程则是异步。                        
 (3).协程能保留上一次调用时的状态，每次过程重入时，就相当于进入上一次调用的状态。                 
 (4).线程初始化时占用1MB资源,固定不可变；协程初始化时占用2KB资源，可随需要而增大。                     
 (5).线程调度由OS的内核完成；协程调度由用户完成             
 (6).线程是抢占式，而协程是非抢占式的，所以需要用户自己释放使用权来切换到其他协程，因此同一时间其实只有一个协程拥有运行权，相当于单线程的能力。                          
 (7).协程并不是取代线程, 而且抽象于线程之上, 线程是被分割的CPU资源, 协程是组织好的代码流程, 协程需要线程来承载运行, 线程是协程的资源, 
>但协程不会直接使用线程, 协程直接利用的是执行器(Interceptor), 执行器可以关联任意线程或线程池。                    
 (8).线程资源占用太高，频繁创建销毁会带来严重的性能问题；协程资源占用小,不会带来严重的性能问题                  
 (9).线程需要用锁等机制确保数据的一直性和可见性；协程不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，
>在协程中控制共享资源不加锁，只需要判断状态就好了，所以执行效率比多线程高很多。                
