### 12.索引的底层实现
> 二叉查找树时间复杂度是O(logN),从算法逻辑来讲,二叉树查找树的查找速度和比较次数都是最小的,但是不得不考虑一个现实问题:磁盘IO,数据索引是存储在磁盘上的，当数据量比较大的时候，索引的大小可能有几个G甚至更多。              
  当利用索引查询的时候，不可能把整个索引全部加载到内存。能做的只有逐一加载每个磁盘页，这里的磁盘页对应索引树的节点。在二叉查找树里，磁盘的IO次数等于索引树的高度。             
  B-树是一种多路平衡查找树，它的每一个节点最多包含m个孩子，m被称为B-树的阶。m的大小取决于磁盘页的大小。                
  一个m阶的B-树的特征:          
  (1).根结点至少有两个子女;           
  (2).每个中间节点都包含k-1个元素和k个孩子，其中m/2<=k<=m;             
  (3).每一个叶子节点都包含k-1个元素，其中m/2<=k<=m;             
  (4).所有的叶子结点都位于同一层;            
  (5).每个节点中的元素从小到大排列，节点当中k-1个元素正好是k个孩子包含的元素的值域分划。               
  B树主要应用用于文件系统以及部分数据库索引(MongoDB）                
  一个m阶的B+树的特征：              
  (1).有k个子树的中间节点包含有k个元素（B-树中是k-1个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子节点;              
  (2).所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接;          
  (3).所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。
> B+树主要应用在MySQL索引             
  B树和B+树的区别:                
  (1).B+树的中间节点没有卫星数据的。所以同样大小的磁盘页可以容纳更多的节点元素。这就意味着B+会更加矮胖，查询的IO次数会更少。                
  (2).B+树的每一次查找都是稳定的。B树查找是不稳定的，如果要查找的数据分别在根节点和叶子节点，查找的性能就会不同。           
  B+树的优势:               
  (1).单一节点存储更多的元素，使得查询的IO次数更少;              
  (2).所有查询都要查找到叶子节点，查询性能稳定;             
  (3).所有叶子节点形成有序链表，便于范围查询。              
>
> 参考 https://segmentfault.com/a/1190000016866441                
> https://segmentfault.com/a/1190000021488885           
> https://segmentfault.com/a/1190000020325935           
